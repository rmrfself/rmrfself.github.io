<!DOCTYPE html>
<html>
<head>
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Spring中的100个问题-注解是如何工作的(二)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>
    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-markdown.min.js"></script>
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Learn, Innovate, Share - Business Based Vision." />
    <link rel="shortcut icon" href="http://localhost:4000/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/springboot-annotations-02" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="张庆华的个人日志" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Spring中的100个问题-注解是如何工作的(二)" />
    <meta property="og:description" content="注解定义了很多影响编译器行为的方式,也使得bean的行为看起来不那么透明。 注解是从编译阶段开始的 Java编译器(java compiler)工作时要经过几个阶段: 解析(Parse)阶段[词法、语法解析阶段] 扫描 *.java 源文件, 映射源代码为AST-Nodes(抽象树) 生成符号表(symbol table) 处理注解(process annotations) javac默认会处理针对特定语法单位上的注解,比如 class，function，field 处理语法树的的属性 这个过程包括名称解析，类型检查和常量打包等 数据流(dataflow analysis)分析 desugar-重写语法书（AST Rewrite), 翻译一些语法糖 最后生成classfile 从java6开始, 在JSR269中定义了如何在编译阶段自定义可插拔（pluggable)的注解API。 在javac的默认输出中可以确认到这个信息 -g 生成所有调试信息 -g:none 不生成任何调试信息 -g:{lines,vars,source} 只生成某些调试信息 -nowarn 不生成任何警告 -verbose 输出有关编译器正在执行的操作的消息 -deprecation 输出使用已过时的 API 的源位置 -classpath &lt;路径&gt; 指定查找用户类文件和注释处理程序的位置 -cp &lt;路径&gt; 指定查找用户类文件和注释处理程序的位置 -sourcepath &lt;路径&gt; 指定查找输入源文件的位置 -bootclasspath" />
    <meta property="og:url" content="http://localhost:4000/springboot-annotations-02" />
    <meta property="og:image" content="http://localhost:4000/assets/images/blog-cover.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/rmrfself" />
    <meta property="article:author" content="https://www.facebook.com/rmrfself" />
    <meta property="article:published_time" content="2016-04-12T20:30:01+08:00" />
    <meta property="article:modified_time" content="2016-04-12T20:30:01+08:00" />
    <meta property="article:tag" content="Spring" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Spring中的100个问题-注解是如何工作的(二)" />
    <meta name="twitter:description" content="注解定义了很多影响编译器行为的方式,也使得bean的行为看起来不那么透明。 注解是从编译阶段开始的 Java编译器(java compiler)工作时要经过几个阶段: 解析(Parse)阶段[词法、语法解析阶段] 扫描 *.java 源文件, 映射源代码为AST-Nodes(抽象树) 生成符号表(symbol table) 处理注解(process annotations) javac默认会处理针对特定语法单位上的注解,比如 class，function，field 处理语法树的的属性 这个过程包括名称解析，类型检查和常量打包等 数据流(dataflow analysis)分析 desugar-重写语法书（AST Rewrite), 翻译一些语法糖 最后生成classfile 从java6开始, 在JSR269中定义了如何在编译阶段自定义可插拔（pluggable)的注解API。 在javac的默认输出中可以确认到这个信息 -g 生成所有调试信息 -g:none 不生成任何调试信息 -g:{lines,vars,source} 只生成某些调试信息 -nowarn 不生成任何警告 -verbose 输出有关编译器正在执行的操作的消息 -deprecation 输出使用已过时的 API 的源位置 -classpath &lt;路径&gt; 指定查找用户类文件和注释处理程序的位置 -cp &lt;路径&gt; 指定查找用户类文件和注释处理程序的位置 -sourcepath &lt;路径&gt; 指定查找输入源文件的位置 -bootclasspath" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/images/blog-cover.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="张庆华的个人日志" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Spring" />
    <meta name="twitter:site" content="@rmrfself" />
    <meta name="twitter:creator" content="@rmrfself" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "张庆华的个人日志",
        "logo": "http://localhost:4000/assets/images/blog-icon.svg"
    },
    "url": "http://localhost:4000/springboot-annotations-02",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/images/blog-cover.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/springboot-annotations-02"
    },
    "description": "注解定义了很多影响编译器行为的方式,也使得bean的行为看起来不那么透明。 注解是从编译阶段开始的 Java编译器(java compiler)工作时要经过几个阶段: 解析(Parse)阶段[词法、语法解析阶段] 扫描 *.java 源文件, 映射源代码为AST-Nodes(抽象树) 生成符号表(symbol table) 处理注解(process annotations) javac默认会处理针对特定语法单位上的注解,比如 class，function，field 处理语法树的的属性 这个过程包括名称解析，类型检查和常量打包等 数据流(dataflow analysis)分析 desugar-重写语法书（AST Rewrite), 翻译一些语法糖 最后生成classfile 从java6开始, 在JSR269中定义了如何在编译阶段自定义可插拔（pluggable)的注解API。 在javac的默认输出中可以确认到这个信息 -g 生成所有调试信息 -g:none 不生成任何调试信息 -g:{lines,vars,source} 只生成某些调试信息 -nowarn 不生成任何警告 -verbose 输出有关编译器正在执行的操作的消息 -deprecation 输出使用已过时的 API 的源位置 -classpath &lt;路径&gt; 指定查找用户类文件和注释处理程序的位置 -cp &lt;路径&gt; 指定查找用户类文件和注释处理程序的位置 -sourcepath &lt;路径&gt; 指定查找输入源文件的位置 -bootclasspath"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Spring中的100个问题-注解是如何工作的(二)" href="/feed.xml" />

</head>
<body class="javaee">
    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->
<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->
<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/"><img src="/assets/images/blog-icon.svg" alt="张庆华的个人日志" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">主页</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">关于Mike</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/rmrfself" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/rmrfself" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
        </div>
        
    </div>
</nav>

    </div>
</header>
<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->
<main id="site-main" class="site-main outer" role="main">
    <div class="inner">
        <article class="post-full  no-image">
            <header class="post-full-header">
                <h1 class="post-full-title">Spring中的100个问题-注解是如何工作的(二)</h1>
                <section class="post-full-meta">
                    
                        <span class="date-divider">分类: </span>
                        
                            
                               <a href='/tag/spring/'>SPRING</a>
                            
                        
                    
                    <span class="date-divider">发布于: </span><time class="post-full-meta-date" datetime="12 April 2016">2016-04-12 20:30</time>
                </section>
            </header>
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>注解定义了很多影响编译器行为的方式,也使得bean的行为看起来不那么透明。</p>

<h3 id="注解是从编译阶段开始的">注解是从编译阶段开始的</h3>

<p>Java编译器(java compiler)工作时要经过几个阶段:</p>

<ul>
  <li>解析(Parse)阶段[词法、语法解析阶段]</li>
</ul>

<p>扫描 *.java 源文件, 映射源代码为AST-Nodes(抽象树)</p>

<ul>
  <li>
    <p>生成符号表(symbol table)</p>
  </li>
  <li>
    <p>处理注解(process annotations)</p>
  </li>
</ul>

<p>javac默认会处理针对特定语法单位上的注解,比如 class，function，field</p>

<ul>
  <li>处理语法树的的属性</li>
</ul>

<p>这个过程包括名称解析，类型检查和常量打包等</p>

<ul>
  <li>
    <p>数据流(dataflow analysis)分析</p>
  </li>
  <li>
    <p>desugar-重写语法书（AST Rewrite), 翻译一些语法糖</p>
  </li>
  <li>
    <p>最后生成classfile</p>
  </li>
</ul>

<p>从java6开始, 在JSR269中定义了如何在编译阶段自定义可插拔（pluggable)的注解API。</p>

<p>在javac的默认输出中可以确认到这个信息</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-g                         生成所有调试信息
  -g:none                    不生成任何调试信息
  -g:{lines,vars,source}     只生成某些调试信息
  -nowarn                    不生成任何警告
  -verbose                   输出有关编译器正在执行的操作的消息
  -deprecation               输出使用已过时的 API 的源位置
  -classpath &lt;路径&gt;            指定查找用户类文件和注释处理程序的位置
  -cp &lt;路径&gt;                   指定查找用户类文件和注释处理程序的位置
  -sourcepath &lt;路径&gt;           指定查找输入源文件的位置
  -bootclasspath &lt;路径&gt;        覆盖引导类文件的位置
  -extdirs &lt;目录&gt;              覆盖所安装扩展的位置
  -endorseddirs &lt;目录&gt;         覆盖签名的标准路径的位置
  -proc:{none,only}          控制是否执行注释处理和/或编译。
  -processor &lt;class1&gt;[,&lt;class2&gt;,&lt;class3&gt;...] 要运行的注释处理程序的名称; 绕过默认的搜索进程
  -processorpath &lt;路径&gt;        指定查找注释处理程序的位置
  -parameters                生成元数据以用于方法参数的反射
  -d &lt;目录&gt;                    指定放置生成的类文件的位置
  -s &lt;目录&gt;                    指定放置生成的源文件的位置
  -h &lt;目录&gt;                    指定放置生成的本机标头文件的位置
  -implicit:{none,class}     指定是否为隐式引用文件生成类文件
  -encoding &lt;编码&gt;             指定源文件使用的字符编码
  -source &lt;发行版&gt;              提供与指定发行版的源兼容性
  -target &lt;发行版&gt;              生成特定 VM 版本的类文件
  -profile &lt;配置文件&gt;            请确保使用的 API 在指定的配置文件中可用
  -version                   版本信息
  -help                      输出标准选项的提要
  -A关键字[=值]                  传递给注释处理程序的选项
  -X                         输出非标准选项的提要
  -J&lt;标记&gt;                     直接将 &lt;标记&gt; 传递给运行时系统
  -Werror                    出现警告时终止编译
  @&lt;文件名&gt;                     从文件读取选项和文件名
</code></pre></div></div>

<p>以下两个输入参数与注解有关。</p>

<p>-processor <class1>[,<class2>,<class3>...] 要运行的注释处理程序的名称; 绕过默认的搜索进程</class3></class2></class1></p>

<p>-processorpath <路径>        指定查找注释处理程序的位置</路径></p>

<h3 id="如何实现一个注解处理器annotation-procssors">如何实现一个注解处理器（annotation procssors)</h3>

<p>定义一个继承自AbstractProcessor的子类，同时必须包含两个注解(SupportedAnnotationTypes、SupportedSourceVersion)</p>

<p>必须覆盖的两个接口:</p>

<p>public synchronized void init(ProcessingEnvironment processingEnv)</p>

<p>public boolean process(Set&lt;? extends TypeElement&gt; annotations,
RoundEnvironment roundEnv)</p>

<p>这两个方法在编译阶段被java compiler 调用(仅调用一次)</p>

<p>在maven编译阶段(compiler:compile),显式指定processor可以通过<annotationProcessorPaths>、<annotationProcessors> 这两个可选项实现 [compiler:compile](https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html)</annotationProcessors></annotationProcessorPaths></p>

<p>编译阶段检查代码格式的例子</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.SOURCE)
@Target(ElementType.METHOD)
public @interface Setter {
}
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.util.Set;
import javax.annotation.processing.AbstractProcessor;
import javax.annotation.processing.Messager;
import javax.annotation.processing.ProcessingEnvironment;
import javax.annotation.processing.RoundEnvironment;
import javax.annotation.processing.SupportedAnnotationTypes;
import javax.annotation.processing.SupportedSourceVersion;
import javax.lang.model.SourceVersion;
import javax.lang.model.element.Element;
import javax.lang.model.element.ElementKind;
import javax.lang.model.element.ExecutableElement;
import javax.lang.model.element.Modifier;
import javax.lang.model.element.TypeElement;
import javax.tools.Diagnostic;

@SupportedAnnotationTypes({"annotation.Setter"})
@SupportedSourceVersion(SourceVersion.RELEASE_8)
public class SetterProcessor extends AbstractProcessor {

    private Messager messager;

    @Override
    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {
        // get elements annotated with the @Setter annotation
        Set&lt;? extends Element&gt; annotatedElements = roundEnv.getElementsAnnotatedWith(Setter.class);

        for (Element element : annotatedElements) {
            if (element.getKind() == ElementKind.METHOD) {
                // only handle methods as targets
                checkMethod((ExecutableElement) element);
            }
        }

        // don't claim annotations to allow other processors to process them
        return false;
    }

    private void checkMethod(ExecutableElement method) {
        // check for valid name
        String name = method.getSimpleName().toString();
        if (!name.startsWith("set")) {
            printError(method, "setter name must start with \"set\"");
        } else if (name.length() == 3) {
            printError(method, "the method name must contain more than just \"set\"");
        } else if (Character.isLowerCase(name.charAt(3))) {
            if (method.getParameters().size() != 1) {
                printError(method, "character following \"set\" must be upper case");
            }
        }

        // check, if setter is public
        if (!method.getModifiers().contains(Modifier.PUBLIC)) {
            printError(method, "setter must be public");
        }

        // check, if method is static
        if (method.getModifiers().contains(Modifier.STATIC)) {
            printError(method, "setter must not be static");
        }
    }

    private void printError(Element element, String message) {
        messager.printMessage(Diagnostic.Kind.ERROR, message, element);
    }

    @Override
    public void init(ProcessingEnvironment processingEnvironment) {
        super.init(processingEnvironment);

        // get messager for printing errors
        messager = processingEnvironment.getMessager();
    }
}
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class AnnotationProcessorTest {
    
    @Setter
    private void noValue(String value) {}

    @Setter
    public void setString(String value) {}
    
    @Setter
    public static void main(String[] args) {}
    
}
</code></pre></div></div>

<p>执行以上代码</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>javac -Xprint  -XprintRounds  -XprintProcessorInfo   -classpath . -processor SetterProcessor  AnnotationProcessorTest.java 

demo git:(master) ✗ javac -Xprint  -XprintRounds  -XprintProcessorInfo   -classpath . -processor SetterProcessor  AnnotationProcessorTest.java
循环 1:
	输入文件: {AnnotationProcessorTest}
	注释: [Setter]
	最后一个循环: false

</code></pre></div></div>

<h3 id="openjdk8对注解的支持">OpenJDK8对注解的支持</h3>

<p>jdk8u/langtools/src/share/classes/javax</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.
├── annotation
│   └── processing
│       ├── AbstractProcessor.java
│       ├── Completion.java
│       ├── Completions.java
│       ├── Filer.java
│       ├── FilerException.java
│       ├── Messager.java
│       ├── ProcessingEnvironment.java
│       ├── Processor.java
│       ├── RoundEnvironment.java
│       ├── SupportedAnnotationTypes.java
│       ├── SupportedOptions.java
│       ├── SupportedSourceVersion.java
│       └── package-info.java
├── lang
│   └── model
│       ├── AnnotatedConstruct.java
│       ├── SourceVersion.java
│       ├── UnknownEntityException.java
│       ├── element
│       │   ├── AnnotationMirror.java
│       │   ├── AnnotationValue.java
│       │   ├── AnnotationValueVisitor.java
│       │   ├── Element.java
│       │   ├── ElementKind.java
│       │   ├── ElementVisitor.java
│       │   ├── ExecutableElement.java
│       │   ├── Modifier.java
│       │   ├── Name.java
│       │   ├── NestingKind.java
│       │   ├── PackageElement.java
│       │   ├── Parameterizable.java
│       │   ├── QualifiedNameable.java
│       │   ├── TypeElement.java
│       │   ├── TypeParameterElement.java
│       │   ├── UnknownAnnotationValueException.java
│       │   ├── UnknownElementException.java
│       │   ├── VariableElement.java
│       │   └── package-info.java
│       ├── overview.html
│       ├── package-info.java
│       ├── type
│       │   ├── ArrayType.java
│       │   ├── DeclaredType.java
│       │   ├── ErrorType.java
│       │   ├── ExecutableType.java
│       │   ├── IntersectionType.java
│       │   ├── MirroredTypeException.java
│       │   ├── MirroredTypesException.java
│       │   ├── NoType.java
│       │   ├── NullType.java
│       │   ├── PrimitiveType.java
│       │   ├── ReferenceType.java
│       │   ├── TypeKind.java
│       │   ├── TypeMirror.java
│       │   ├── TypeVariable.java
│       │   ├── TypeVisitor.java
│       │   ├── UnionType.java
│       │   ├── UnknownTypeException.java
│       │   ├── WildcardType.java
│       │   └── package-info.java
│       └── util
│           ├── AbstractAnnotationValueVisitor6.java
│           ├── AbstractAnnotationValueVisitor7.java
│           ├── AbstractAnnotationValueVisitor8.java
│           ├── AbstractElementVisitor6.java
│           ├── AbstractElementVisitor7.java
│           ├── AbstractElementVisitor8.java
│           ├── AbstractTypeVisitor6.java
│           ├── AbstractTypeVisitor7.java
│           ├── AbstractTypeVisitor8.java
│           ├── ElementFilter.java
│           ├── ElementKindVisitor6.java
│           ├── ElementKindVisitor7.java
│           ├── ElementKindVisitor8.java
│           ├── ElementScanner6.java
│           ├── ElementScanner7.java
│           ├── ElementScanner8.java
│           ├── Elements.java
│           ├── SimpleAnnotationValueVisitor6.java
│           ├── SimpleAnnotationValueVisitor7.java
│           ├── SimpleAnnotationValueVisitor8.java
│           ├── SimpleElementVisitor6.java
│           ├── SimpleElementVisitor7.java
│           ├── SimpleElementVisitor8.java
│           ├── SimpleTypeVisitor6.java
│           ├── SimpleTypeVisitor7.java
│           ├── SimpleTypeVisitor8.java
│           ├── TypeKindVisitor6.java
│           ├── TypeKindVisitor7.java
│           ├── TypeKindVisitor8.java
│           ├── Types.java
│           └── package-info.java
└── tools
    ├── Diagnostic.java
    ├── DiagnosticCollector.java
    ├── DiagnosticListener.java
    ├── DocumentationTool.java
    ├── FileObject.java
    ├── ForwardingFileObject.java
    ├── ForwardingJavaFileManager.java
    ├── ForwardingJavaFileObject.java
    ├── JavaCompiler.java
    ├── JavaFileManager.java
    ├── JavaFileObject.java
    ├── OptionChecker.java
    ├── SimpleJavaFileObject.java
    ├── StandardJavaFileManager.java
    ├── StandardLocation.java
    ├── Tool.java
    ├── ToolProvider.java
    ├── overview.html
    └── package-info.java
</code></pre></div></div>

<p>篇幅原因，下一篇分析spring中的注解。</p>

<p><img src="/assets/images/bean-life-01.png" alt="" /></p>


                </div>
            </section>
            <!-- Email subscribe form at the bottom of the page -->
            
            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>
            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
        </article>
    </div>
</main>
<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; 张庆华的个人日志 &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/spring/">Spring</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/springboot-annotations-03">spring中的100个问题-注解是如何工作的(三)?</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/springboot-annotations-01">spring中的100个问题-注解是如何工作的(一)</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/spring/">
                                
                                    See all 2 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            
            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card devops no-image">
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/devops-kubernetes-basic-07">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Automation</span>
                            
                        
                    

                    <h2 class="post-card-title">kubernetes中的基本概念(七) DNS</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            
            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card devops">
        
            <a class="post-card-image-link" href="/devops-kubernetes-basic-06">
                <div class="post-card-image" style="background-image: url(/assets/images/deployments.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/devops-kubernetes-basic-06">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Automation</span>
                            
                        
                    

                    <h2 class="post-card-title">kubernetes中的基本概念(六) service && ingress</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            
        </div>
    </div>
</aside>
<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
                <img src="/assets/images/favicon.png" alt="张庆华的个人日志 icon" />
            
            <span>张庆华的个人日志</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Spring中的100个问题-注解是如何工作的(二)</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Spring%E4%B8%AD%E7%9A%84100%E4%B8%AA%E9%97%AE%E9%A2%98-%E6%B3%A8%E8%A7%A3%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%28%E4%BA%8C%29&amp;url=https://rmrfself.github.io/springboot-annotations-02"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://rmrfself.github.io/springboot-annotations-02"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>

<!-- /post -->
<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        
        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="my_profile">
                    <a href='#' class='ava'><img src='/assets/images/me.jpg' /></a>
                    <div class='profile_detail'>
                        <h4>About me</h4>
                        <p>My name is Zhang QingHua(张庆华). Foreign friends call me Mike. I was born in 1980s.</p>
                        <p>I am an IT developer focusing on web technology(PC and Mobile). Now i am employed by one of vendor of Rakuten.com as a software archtect at Dalian(大连).</p>
                        <p>I graduated from ShanDong University in July 2006 with a computer science degree.</p>
                        <p>In my spare time, i like swimming, hiking in the wild and learning in Youtube.com.</p>
                        <p>Last updated at: 2017/12/12</p>
                    </div>
                </section>
            </div>
            <p class="copyright inner"><a href="http://localhost:4000/">张庆华的个人日志</a> &copy; 2012年6月 | 微信: xanderQ</p>
        </footer>
    </div>

    <!-- The big email subscribe modal content -->
    
    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->
    
    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-126286097-1', 'auto');
  ga('send', 'pageview');

 </script>

    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->
</body>
</html>
